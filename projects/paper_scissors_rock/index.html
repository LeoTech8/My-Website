<!DOCTYPE html>
<head>
    <title>Paper, Scissors, Rock</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
        body{
            font-family: Verdana, sans-serif;
            color: white;
            background-color: rgb(87, 108, 131);
            text-align: center;
        }
    </style>
</head>
<body onload="main()">
<h1>Paper Scissors Rock</h1>
<hr>
<label for="psr">Paper, Scissors Of Rock?:</label>
<select name="psr" id="psr">
  <option value="p">Paper</option>
  <option value="s">Scissors</option>
  <option value="r">Rock</option>
</select> 
</br>
</br>
<button onclick="randomElement()">Lock In</button>
<hr>
    <p id="result"></p>
    <p>Your Score:</p>
    <p id="score"></p>
    <p>Computer's Score:</p>
    <p id="cscore"></p>
    <p id="win"></p>
    <script>
        let userinput = document.getElementById("psr").value;
        score = 0
        cscore = 0
        win = ""
        const arr = ["Paper","Scissors","Rock"];
        document.getElementById("array").innerHTML = "Array: " + arr;
        function randomElement() {
            const computerinput = arr[Math.floor(Math.random() * arr.length)];
            document.getElementById("result")
                .innerHTML = "Computer Chose: " + computerinput;
            if(userinput == "p" && computerinput == "Rock") {
                score = score + 1
            }
            if(userinput == "s" && computerinput == "Paper") {
                score = score + 1
            }
            if(userinput == "r" && computerinput == "Scissors") {
                score = score + 1
            }
            if(userinput == "r" && computerinput == "Paper") {
                cscore = cscore + 1
            }
            if(userinput == "p" && computerinput == "Scissors") {
                cscore = cscore + 1
            }
            if(userinput == "s" && computerinput == "Rock") {
                cscore = cscore + 1
            }
            if(score == 3) {
                win = "You Won!"
                score = 0
                cscore = 0
                document.getElementById("win").innerHTML = win;
            }
            if(cscore == 3) {
                score = 0
                cscore = 0
                win = "You Lost."
                document.getElementById("win").innerHTML = win;
            }
            document.getElementById("score").innerHTML = score;
            document.getElementById("cscore").innerHTML = cscore;
        }
            function getCookie(cname) {
  console.log("Getting Cookie...")
  let name = cname + "=";
  let decodedCookie = decodeURIComponent(document.cookie);
  let ca = decodedCookie.split(';');
  for(let i = 0; i < ca.length; i++) {
    let c = ca[i];
    while (c.charAt(0) == ' ') {
      c = c.substring(1);
    }
    if (c.indexOf(name) == 0) {
      return c.substring(name.length, c.length);
    }
  }
  return "";
  console.log("Got cookie...")
}

function main() {
  let name = getCookie("username")
  if (name == "") {
      alert("Invalid Username! Press ok to reset cookie.")
      window.loaction.replace("https://www.leo-johnson.com/projects/index.html")
  }
        </script>
</body>
